### 1.Java虚拟机是怎样运行Java字节码的？
执行Java代码首先需要将它编译而成的class文件加载到JVM中，加载后的Java类存放于方法区中。实际运行时，JVM会执行方法区内的代码。  
![JVM布局](https://static001.geekbang.org/resource/image/ab/77/ab5c3523af08e0bf2f689c1d6033ef77.png)  
JVM会在内存中划分出堆和栈来存储运行时数据。  
运行过程中，每当调用进入一个Java方法，JVM会在栈中生成一个栈帧，用以存放局部变量以及字节码的操作数。这个栈帧大小是提前算好的，且Java虚拟机不要求栈帧
在内存空间连续分布。退出当前执行方法时，JVM会弹出当前线程的当前栈帧，并将之舍弃。  

从硬件视角来看，Java 字节码无法直接执行。因此，Java 虚拟机需要将字节码翻译成机器码。  
从硬件角度看，Java字节码无法直接执行。因此，JVM要将字节码翻译成机器码。  
在 HotSpot 里面，上述翻译过程有两种形式：第一种是解释执行，即逐条将字节码翻译成机器码并执行；第二种是即时编译（Just-In-Time compilation，JIT），即将一个方法中包含的所有字节码编译成机器码后再执行。  


