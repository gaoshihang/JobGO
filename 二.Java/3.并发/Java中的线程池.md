### 1.什么是线程池？
线程池提供了一种限制和管理资源（包括执行一个任务）的方式。

**使用线程池的好处**  
（1）降低资源消耗：避免重复创建和销毁线程造成的资源消耗；  
（2）提高响应速度：可以重用线程，不需要等待线程创建；  
（3）提高线程可管理性：使用线程池可以对线程进行统一的分配、调优和监控。  

### 2.创建线程池参数
#### （1）corePoolSize（线程池基本大小）
提交任务时，如果当前poolSize < corePoolSize，则创建一个线程，即使其他空闲线程可以执行，也创建，直到其线程数量超过corePoolSize。 这时，新来的任务
会被放入队列中等待。

#### （2）maximumPoolSize（线程池最大数量）
如果队列满了，且现有线程数小于maximumPoolSize，则会创建新的线程执行任务。**注：如果使用了无界队列，此参数无效。**  

#### （3）keepAliveTime（线程活动保持时间）
线程池线程空闲后，保持存活的时间。

#### （4）workQueue（任务队列）：用于保存等待执行任务的阻塞队列。
可选以下几个队列：
**ArrayBlockingQueue**：基于数组的有界阻塞队列，按FIFO排序。  
**LinkedBlockingQueue**：基于链表的阻塞队列，按FIFO排序，吞吐量高于ArrayBlockingQueue。  
**SynchronousQueue**：不存储元素的阻塞队列。每个插入操作必须等到另一个线程调用移除操作。  
**PriorityBlockingQueue**：具有优先级的无界阻塞队列。  

### 3.如何创建线程池？
（1）通过ThreadPoolExecutor构造方法。  
（2）通过Executors工具类，有以下三种类型：  
**FixedThreadPool**：固定线程数量的线程池。  
**SingleThreadExecutor**：只有一个线程的线程池。  
**CachedThreadPool**：返回一个根据实际情况调整的线程池。  

### 4.线程数怎么设置？需要考虑的问题
#### （1）任务性质
如果是CPU密集型，线程数等于或稍大于CPU核数；IO密集型，CPU压力不大，线程数设置较大。  

#### （2）CPU使用率
线程数较大时，会有如下问题：  
**第一**，CPU资源消耗，使其利用率一直较高。  
**第二**，CPU使用率呈现锯齿状，短时间飙高，迅速下降至闲置状态。  

#### （3）内存使用率
线程数过多和队列大小都会影响此项数据。  










