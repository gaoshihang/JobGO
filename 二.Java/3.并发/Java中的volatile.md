### 1.synchronized与volatile的区别
（1）volatile本质是告诉JVM当前变量在寄存器（工作内存）中的值是不确定的，需要从主存中读取；synchronized则是锁定当前变量，只有当前线程可以访问该
变量，其他线程被阻塞。  
（2）volatile只能修饰变量；synchronized可以修饰方法、变量以及类。  
（3）volatile只能实现变量的修改可见性，不能保证原子性；synchronized可以保证变量的修改可见性和原子性。  
（4）volatile不会造成线程阻塞。  
（5）volatile标记变量不会被编译器优化。  

### 2.对volatile的理解
**volatile关键字用来保证有序性和可见性。**
首先，编译器和CPU会对我们写的代码做重排序，这样是为了减少流水线阻塞，提高CPU执行效率。在重排序的过程中要遵循happens-before原则，其中对于volatile
有这样一条规则：一个变量的写操作先行发生于之后对这个变量的读操作。有序性的实现是通过插入内存屏障来实现的。

被volatile修饰的变量，有以下两点特性：  
（1）保证不同线程对该变量操作的内存可见性。  
（2）阻止指令重排序。

