### 1.消息队列的主要作用
消息队列的主要作用：解耦、异步、削峰。  

#### （1）解耦
假如A系统通过接口调用发送数据到B、C、D三个系统。现在，如果E系统也要这个数据，且C系统不需要了呢？  
考虑到这些变化的话，A系统的维护成本会非常的高，且A系统要考虑到其他系统出现故障时怎么办，是重发还是先保存消息？  
使用消息队列可以解决这个问题。A系统只负责生产数据，不需要考虑消息被谁来消费。  

#### （2）异步
A系统需要发请求给B系统处理，由于B需要查询数据库花费时间较长，以至于A系统要等待B系统处理完成后再发送下个请求，造成A的资源浪费。  
A这时可以把消息直接丢进消息队列，不用等待B系统的结果，直接继续去干自己的事。  

#### （3）削峰
假如A系统需要调用B系统处理数据，平时并发请求数量为100个，某时间突然并发涨到了10000，B的最大处理能力是1000，这时系统就会崩掉。  
这就可以使用消息队列来处理，A系统将请求放入其中，B系统根据自己的处理能力进行消费。  

### 2.消息队列的优缺点  
#### 优点
解耦、异步、削峰  

#### 缺点
（1）降低系统可用性：系统引入外部依赖越多，其可用性越差；  
（2）提高系统复杂度：消息队列需要保证消息没有重复消费、处理消息丢失等情况，还要保证消息传递的顺序性；  
（3）一致性问题：多个系统的数据可能会不一致。  


