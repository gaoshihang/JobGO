### 1.大数据性能优化
在大数据使用、开发过程中的性能优化一般可以从以下角度进行。  
#### SQL语句优化
使用关系数据库时，SQL优化是优化的重要手段，实现同样功能但不同的SQL写法带来的性能差距是数量级的。  
#### 数据倾斜处理
数据倾斜是指两表join的时候，其中一张的某个字段值对应的数据行非常多，那么在shuffle时，这个字段对应的所有记录都会被partition到同一个reduce任务，
导致这个任务长时间无法完成。**比如Hive里大量数据的某字段为null，现在要对这个字段做join，这个reduce会跑非常长时间。**
#### MapReduce、Spark代码优化
#### 配置参数优化
#### 大数据开源软件优化

### 2.Spark优化案例
#### Spark任务文件初始化调优
Spark启动时，每个计算节点上会启动多个Executor进程进行计算，而Spark的策略是每个Executer进程自己去下载应用程序jar包，如果网卡不好的话，会导致传输时间
很长。  
解决办法：同一台服务器上的多个Executor进程不必每个都通过网络下载应用程序，只需要一个进程下载到本地后，其他进程将这个文件copy到自己的工作路径即可。  

#### Spark任务调度优化
![Spark任务](https://static001.geekbang.org/resource/image/6e/64/6eb9b6f7ff05a9d521035898f830d964.png)  
可以看到，在第一个job的第二个阶段，第三台机器的CPU使用率和其他机器明显不同，这就是说资源利用不均衡，**这种有忙有闲的资源分配方式通常会引起性能问题**。  

